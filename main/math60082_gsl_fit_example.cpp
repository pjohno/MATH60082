#include "math60082_fit.hpp"
#include "math60082_leastSquaresFit.hpp"
#include "math60082_markupTable.hpp"

int main()
{
    std::vector<MATH60082::DataPoint> data = {
        { 0.1 , 1.11997 ,  0.110517 } ,
        { 0.2 , 1.21064 ,  0.12214 } ,
        { 0.3 , 1.57588 ,  0.134986 } ,
        { 0.4 , 1.60127 ,  0.149182 } ,
        { 0.5 , 1.81319 ,  0.164872 } ,
        { 0.6 , 1.58934 ,  0.182212 } ,
        { 0.7 , 1.53111 ,  0.201375 } ,
        { 0.8 , 2.07436 ,  0.222554 } ,
        { 0.9 , 2.44999 ,  0.24596 } ,
        { 1 , 2.96118 ,  0.271828 } ,
        { 1.1 , 2.99886 ,  0.300417 } ,
        { 1.2 , 2.88964 ,  0.332012 } ,
        { 1.3 , 3.42419 ,  0.36693 } ,
        { 1.4 , 4.12889 ,  0.40552 } ,
        { 1.5 , 4.85414 ,  0.448169 } ,
        { 1.6 , 4.68148 ,  0.495303 } ,
        { 1.7 , 5.12469 ,  0.547395 } ,
        { 1.8 , 6.05394 ,  0.604965 } ,
        { 1.9 , 6.23804 ,  0.668589 } 
    };
    MATH60082::runFitEigen(data,3);
    
    MATH60082::LeastSquaresFit F;
    F.generateFit(3,data);
    std::cout << F << std::endl;
    
    MATH60082::tableRow("x","y","P(x)");
    MATH60082::emptyTableRow(3);
    for(auto di : data)
    {
        MATH60082::tableRow(di.x,di.y,F(di.x));
    }
}
